<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Create result</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href="{{ url_for('static',filename='styles/resultform.css') }}">
    <script>
            function populatePlayers() {
        var selectedWeight = document.getElementById("weight").value;
        var athletes = {{ data | tojson }};
        console.log(selectedWeight)

        var athleteDropdownone = document.getElementById("athleteone");
        var athleteDropdowntwo = document.getElementById("athletetwo");
        var winner = document.getElementById("winner")
        var stateOne = document.getElementById("statecodeone")
        var stateTwo = document.getElementById("statecodetwo")

        stateOne.innerText = "";
        stateTwo.innerHTML = "";
        winner.innerHTML = "";
        athleteDropdownone.innerHTML = ""; // Clear existing options
        athleteDropdowntwo.innerHTML = ""; // Clear existing options

        athletes[selectedWeight][1].forEach(function(player) {
            var option1 = document.createElement("option");
            option1.text = player;
            athleteDropdownone.add(option1);

            var option2 = document.createElement("option");
            option2.text = player;
            athleteDropdowntwo.add(option2);

            var option3 = document.createElement("option");
            option3.text = player;
            winner.add(option3);
        });

        athletes[selectedWeight][0].forEach(function(player){
            var option4 = document.createElement("option");
            option4.text = player;
            stateOne.add(option4);

            var option5 = document.createElement("option")
            option5.text = player;
            stateTwo.add(option5)
        });
    }

    // Call populatePlayers() initially to populate athletes based on default weight
    populatePlayers();

    </script>
</head>
<body>
    <div id="container">
    <div>
        <form action="/secret/resultsuc" method="post" enctype="multipart/form-data">
            <label for="weight">Weight</label>
            <select id="weight" name="weight" onchange="populatePlayers()">
                {% for key, value in data.items() %}
              <option value="{{ key }}">{{ key }} kg</option>
                {% endfor %}
            </select>

            <label for="gender">Gender</label>
            <select id="gender" name="gender">
                <option value="mens">Mens</option>
                <option value="womens">Womens</option>
            </select>

            <label for="athleteone">Athlete 1</label>
            <select id="athleteone" name="athleteone">
            <!--  using JavaScript -->

            </select>

            <label for="statecodeone">State Code</label>
            <select id="statecodeone" name="statecodeone">

            </select>

            <label for="sideone">Side</label>
            <select id="sideone" name="sideone">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
            </select>


            <label for="athleteonescore">Score</label>
            <input type="text" id="athleteonescore" name="athleteonescore" placeholder="Score.." />

            <label for="athletetwo">Athlete 2</label>
            <select id="athletetwo" name="athletetwo">
                <!-- using js -->
            </select>

            <label for="statecodetwo">State Code</label>
            <select id="statecodetwo" name="statecodetwo">
 
            </select>

            <label for="sidetwo">Side</label>
            <select id="sidetwo" name="sidetwo">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
            </select>


            <label for="athletetwoscore">Score</label>
            <input type="text" id="athletetwoscore" name="athletetwoscore" placeholder="Score.." />

            <label for="winner">Winner</label>
            <select id="winner" name="winner">
          
            </select>

            <input type="submit" value="Save"/>
        </form>
    </div>
</div>
</body>
</html>